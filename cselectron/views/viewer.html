<!DOCTYPE html>
<html lang="en">
<head>
  <title>Management System</title>
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css' />
  <link rel='stylesheet' href='../public/css/theme.css' />
  <script src="../public/js/index.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp" rel="stylesheet">
</head>
<body style="background-color: transparent;">
    <div class="bg">

    
        <div class="outsidecontainer">
            <div class="centercontainer" style="height:80%;width:80%;text-align: center;top:20%">
                <span style="text-align: center;color:white;font-size: 80px;font-weight: 600;display:inline-block" id="currentSongTitle">No Song Selected</span><br/>
                <span style="text-align: center;color:white;font-size: 40px;font-weight: 600;display:inline-block" id="currentSongSubtitle">Please Wait...</span><br/><br/>
                <div style="border: 3px solid white;height: 30px;width: 50%;display: inline-block;border-radius: 18px;background-color: transparent;padding-left: 4px;padding-right: 4px;padding-top:4px;text-align: left;margin-top: 30px;margin-left:0px" id="progressSlider">
                    <div style="border: none;height: 16px;display: inline-block;border-radius: 18px;background-color: white" class="songprogress" id="songProgress"></div>
                  </div><br/>
                  <div style="display: inline-block;width: 25%;text-align: left;">
                    <span class="material-icons-round iconbutton" style="color:white;font-size: 25px;display:inline-block" id="isPaused">play_arrow</span>
                  </div>
                  <div style="display: inline-block;width: 25%;text-align: right;">
                    <span style="color:white;font-size: 25px;display:inline-block" id="progressText">0:00 / 0:00</span>
                  </div><br/>
            
            </div>
            
            <div class="statuscontainer">
            <div style="display: flex;">
                
                <div class="elevatedframe" style="display: inline-block;margin-right: 12px;padding-top: 8px;padding-bottom: 8px;">
                <span style="text-align: center;color:white;font-size: 15px;font-weight: 600;display:inline-block">Act 1</span>
                </div>
                <div class="elevatedframe" style="display: inline-block;padding-top: 8px;padding-bottom: 8px;margin-right: 12px;">
                <span style="text-align: center;color:white;font-size: 15px;font-weight: 600;display:inline-block;margin-right: 5px;">Viewer</span>
                <span style="height: 10px;width: 10px;background-color: green;display: inline-block;border-radius: 50%;" title="You Are Online!"></span>
                
                </div>
                <input style="display:inline-block;text-align: center;border-radius: 20px;font-size: 15px;padding: 8px 15px 8px 15px;" class="elevatedbutton" id="closeApp" type="button" value="Exit App"/>
            </div>
            
            </div>
        </div>
    </div>
  

  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
</body>
<script src="../vendor/howler/dist/howler.js"></script>
<script>

  
  const {ipcRenderer} = require('electron');

  ipcRenderer.on("songUpdate", (event,args) => {
    document.getElementById("currentSongTitle").innerHTML = args["songTitle"]
    document.getElementById("currentSongSubtitle").innerHTML = args["songSubtitle"]
    if(args["songPaused"]){
        document.getElementById("isPaused").innerHTML = "play_arrow"
    }else{
        document.getElementById("isPaused").innerHTML = "pause"
    }
    if(args["songDuration"] != undefined){
        document.getElementById("songProgress").style.width = (args["songDuration"] / args["songLength"])*100 + "%"
        inSong = Math.round(args["songDuration"])
        outOfSong = Math.round(args["songLength"])
        var inSongM = Math.floor(inSong / 60)
        var inSongS = Math.floor(inSong % 60)
        var inSongF = inSongM + ":" + (inSongS.toString().length == 1 ? "0" + inSongS : inSongS);
        var outOfSongM = Math.floor(outOfSong / 60)
        var outOfSongS = Math.floor(outOfSong % 60)
        var outOfSongF = outOfSongM + ":" + (outOfSongS.toString().length == 1 ? "0" + outOfSongS : outOfSongS);
        document.getElementById("progressText").innerHTML = inSongF + " / " + outOfSongF;
    }
    
  });
  const closeApp = document.getElementById('closeApp');
  closeApp.addEventListener('click', () => {
    ipcRenderer.send('quitapp');
  });
</script>

</html>
